diff --git a/dist/listener.mjs b/dist/listener.mjs
index cc1b4fba81e0b167a7ca71ccba128c0401ba4ae2..a91bbdf38afd2d52d756b7bc694ac6d6de13bb32 100644
--- a/dist/listener.mjs
+++ b/dist/listener.mjs
@@ -36,7 +36,7 @@ var getRequestListener = (fetchCallback) => {
     const contentLength = res.headers.get("content-length");
     const transferEncoding = res.headers.get("transfer-encoding");
     for (const [k, v] of res.headers) {
-      if (k === "set-cookie") {
+      if (k === "set-cookie" && typeof res.headers.getSetCookie === 'function') {
         outgoing.setHeader(k, res.headers.getSetCookie(k));
       } else {
         outgoing.setHeader(k, v);